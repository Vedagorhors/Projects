/* Представьте, что у вас есть друг Алексей, который является владельцем кофейни. 
Он хочет сделать сайт для этой кофейни, чтобы люди могли заказывать доставку кофе на дом. 
Самая главная функция, которую хочет видеть Алексей, это поиск кофе по названию. 
Ваш друг просит вам помочь ему с разработкой сайта.
Изначально у вас есть массив coffees, в котором хранятся все виды кофе, которые есть в кофейне у Алексея.
 Напитки распределены в порядке популярности среди клиентов, т.е. кофе «Latte» — самый популярный.

const coffees = ['Latte', 'Cappuccino', 'Americano'];
С помощью функции prompt() вам необходимо запрашивать название кофе. Передайте в prompt() сообщение: «Поиск кофе по названию:». 
Сохраните значение, которое ввел пользователь в переменную coffeeName.

Если введенное пользователем название кофе существует, то отобразите сообщение с помощью alert(): «Держите ваш любимый кофе coffee. 
Он number-й по популярности в нашей кофейне.», где coffee — название найденного кофе, number — номер найденного кофе в массиве coffees. 
Если же кофе не был найден, то отобразите сообщение: «К сожалению, такого вида кофе нет в наличии».

Условия:
Название кофе должно быть регистронезависимым, т.е. если пользователь напечатает «lATte», то должен показаться результат с кофе «Latte».
Необходимо использовать findIndex(). */


// рабочий код с комментами (без DeepSeek не обошлось) Код работает корректно для однословных названий кофе. 
// Для названий из нескольких слов ("Irish Coffee") потребуется дополнительная обработка.

const coffees = ["Latte", "Cappuccino", "Americano"];
// Действие: Создается константа coffees, содержащая массив из трех строковых значений. Это список доступных кофе в порядке их популярности.


let userInput = prompt("Поиск кофе по названию:");
// Вызывается функция prompt(), которая отображает диалоговое окно с сообщением "Поиск кофе по названию:". Пользовательский ввод сохраняется в переменную userInput.


let coffeeName = userInput.charAt(0).toUpperCase() + userInput.slice(1).toLowerCase();
// Форматирует введенное название кофе по правилам:

charAt(0).toUpperCase() // берет первый символ строки и переводит его в верхний регистр

slice(1).toLowerCase() // берет остаток строки (со второго символа до конца) и переводит в нижний регистр
// Пример: "lAtTe" → "L" + "atte" → "Latte"


console.log(coffeeName);
// Выводит отформатированное название кофе в консоль для отладки.


const searchedIndex = coffees.findIndex((coffee) => coffee === coffeeName);
// Ищет индекс кофе в массиве:

findIndex() // перебирает элементы массива coffees

// Для каждого элемента coffee проверяется строгое равенство (===) с отформатированным названием coffeeName

// Возвращает индекс первого совпавшего элемента или -1 если совпадений нет


console.log("searchedIndex", searchedIndex);
// Выводит найденный индекс (или -1) в консоль для отладки.


if (searchedIndex !== -1) {
// Проверяет, был ли найден кофе в массиве. Условие выполняется если searchedIndex не равен -1.


const number = searchedIndex + 1;
// Рассчитывает позицию кофе в рейтинге популярности, добавляя 1 к индексу (так как индексы начинаются с 0).


alert(`Держите ваш любимый кофе ${coffees[searchedIndex]}. Он ${number}-й по популярности в нашей кофейне.`);
// Формирует и отображает сообщение:

${coffees[searchedIndex]} // оригинальное название из массива

${number} // позиция в рейтинге
// "Держите ваш любимый кофе Latte. Он 1-й по популярности в нашей кофейне."


} else {
// Начинает блок кода, который выполняется если кофе не был найден (searchedIndex === -1).


alert("К сожалению, такого вида кофе нет в наличии");
// Отображает сообщение об отсутствии кофе.
}

// Потенциальные улучшения:
// Регистронезависимое сравнение:

const searchedIndex = coffees.findIndex(
  coffee => coffee.toLowerCase() === userInput.toLowerCase()
);
// Это позволит находить "LATTE", "latte", "lAtTe" без форматирования



// код без комментариев. Отправить на проверку
const coffees = ["Latte", "Cappuccino", "Americano"];
let userInput = prompt("Поиск кофе по названию:");
let coffeeName =
  userInput.charAt(0).toUpperCase() + userInput.slice(1).toLowerCase();
console.log(coffeeName);
const searchedIndex = coffees.findIndex((coffee) => coffee === coffeeName);
console.log("searchedIndex", searchedIndex);
if (searchedIndex !== -1) {
  const number = searchedIndex + 1;
  alert(
    `Держите ваш любимый кофе ${coffees[searchedIndex]}. Он ${number}-й по популярности в нашей кофейне.`
  );
} else {
  alert("К сожалению, такого вида кофе нет в наличии");
}


// решение с курса
const coffees = ["Latte", "Cappuccino", "Americano"];

let favoriteCoffeeName = prompt("Поиск кофе по названию:");
favoriteCoffeeName = favoriteCoffeeName?.trim().toLowerCase();

const favoriteCoffeeIndex = coffees.findIndex(
  (coffee) => coffee.toLowerCase() === favoriteCoffeeName
);
const favoriteCoffee = coffees[favoriteCoffeeIndex];
if (favoriteCoffee) {
  alert(
    `Держите ваш любимый кофе ${favoriteCoffee}. Он ${
      favoriteCoffeeIndex + 1
    }-й по популярности в нашей кофейне.`
  );
} else {
  alert("К сожалению, такого вида кофе нет в наличии");
}
